<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

    <title>å¸¦ç€æ³¥åœŸçš„åšåšå®¢</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="./favicon.ico?v=1659011765580">
<link rel="stylesheet" href="./styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>



    <meta name="description" content="æ¸©æ•…è€ŒçŸ¥æ–°">
    
    <style>
      .loading {
        text-align: center;
        padding: 40px;
        color: #666;
        font-size: 16px;
      }
      
      .article-list {
        display: grid;
        gap: 15px;
        margin-bottom: 40px;
      }
      
      .article-card {
        background: white;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        transition: transform 0.3s ease;
        cursor: pointer;
      }
      
      .article-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      }
      
      .article-title {
        font-size: 1.2em;
        margin-bottom: 8px;
        color: #333;
        text-decoration: none;
      }
      
      .article-meta {
        display: flex;
        gap: 15px;
        margin-bottom: 10px;
        font-size: 0.9em;
        color: #666;
      }
      
      .article-excerpt {
        color: #555;
        line-height: 1.6;
        font-size: 0.9em;
      }
      
      .article-tags {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
      }
      
      .tag {
        background: #007bff;
        color: white;
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 0.8em;
      }
      
      .article-content {
        max-width: 800px;
        margin: 0 auto;
        line-height: 1.6;
      }
      
      .article-content h1, .article-content h2, .article-content h3 {
        color: #333;
        margin-top: 1.5em;
        margin-bottom: 0.5em;
      }
      
      .article-content h1 {
        border-bottom: 2px solid #007bff;
        padding-bottom: 10px;
      }
      
      .article-content pre {
        background: #2d3748;
        color: #e2e8f0;
        padding: 1.5rem;
        border-radius: 8px;
        overflow-x: auto;
        margin: 1.5rem 0;
        position: relative;
      }
      
      .article-content code {
        background: #f1f5f9;
        color: #e11d48;
        padding: 0.2rem 0.4rem;
        border-radius: 4px;
        font-family: 'SF Mono', 'Monaco', 'Inconsolata', monospace;
      }
      
      .article-content pre code {
        background: transparent;
        color: inherit;
        padding: 0;
      }
      
      /* ä»£ç å—å¤åˆ¶æŒ‰é’® */
      .article-content pre {
        position: relative !important;
      }
      
      .code-copy-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #e2e8f0;
        padding: 6px 12px;
        border-radius: 4px;
        font-size: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        opacity: 0;
        z-index: 10;
      }
      
      .article-content pre:hover .code-copy-btn {
        opacity: 1;
      }
      
      .code-copy-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        border-color: rgba(255, 255, 255, 0.3);
      }
      
      .code-copy-btn.copied {
        background: #10b981;
        border-color: #059669;
        color: white;
      }
      
      .back-btn {
        display: inline-block;
        margin-bottom: 20px;
        padding: 10px 20px;
        background: #007bff;
        color: white;
        text-decoration: none;
        border-radius: 5px;
      }
      
      .back-btn:hover {
        background: #0056b3;
        color: white;
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="/">
        <img src="./images/avatar.png?v=1659011765580" class="site-logo">
                        <h1 class="site-title">å¸¦ç€æ³¥åœŸçš„åšåšå®¢</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            é¦–é¡µ
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            å½’æ¡£
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            å…³äº
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      æ¸©æ•…è€ŒçŸ¥æ–°
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="./atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div id="markdownContent">
            <div class="loading">æ­£åœ¨åŠ è½½æ–‡ç« åˆ—è¡¨...</div>
</div>
        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

// é…ç½® marked
marked.setOptions({
  breaks: true,
  gfm: true,
  highlight: function(code, lang) {
    if (lang && Prism.languages[lang]) {
      return Prism.highlight(code, Prism.languages[lang], lang);
    }
    return code;
  }
});

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
    articles: [],
    currentArticle: null
  },
  mounted() {
    this.loadArticles();
  },
  methods: {
    async loadArticles() {
      try {
        const response = await fetch('./post/');
        if (!response.ok) {
          throw new Error('æ— æ³•è®¿é—® post ç›®å½•');
        }
        
        const html = await response.text();
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');
        
        // æŸ¥æ‰¾ Markdown æ–‡ä»¶é“¾æ¥
        const links = doc.querySelectorAll('a[href$=".md"], a[href$=".markdown"]');
        this.articles = [];
        
        // åŠ è½½æ¯ä¸ªæ–‡ç« çš„å‰ç½®ä¿¡æ¯
        for (const link of links) {
          try {
            const articleUrl = './post/' + link.textContent.trim();
            const articleResponse = await fetch(articleUrl);
            if (articleResponse.ok) {
              const markdown = await articleResponse.text();
              const frontMatter = this.parseFrontMatter(markdown);
              
              this.articles.push({
                name: link.textContent.trim(),
                url: articleUrl,
                title: frontMatter.title || link.textContent.trim(),
                date: frontMatter.date || new Date().toISOString().split('T')[0],
                tags: frontMatter.tags || [],
                excerpt: frontMatter.excerpt || ''
              });
            }
          } catch (error) {
            console.warn('æ— æ³•åŠ è½½æ–‡ç« :', link.textContent.trim(), error);
            // å¦‚æœæ— æ³•åŠ è½½æ–‡ç« å†…å®¹ï¼Œä»ç„¶æ·»åŠ åˆ°åˆ—è¡¨ä¸­
            this.articles.push({
              name: link.textContent.trim(),
              url: './post/' + link.textContent.trim(),
              title: link.textContent.trim(),
              date: new Date().toISOString().split('T')[0],
              tags: [],
              excerpt: ''
            });
          }
        }
        
        if (this.articles.length === 0) {
          document.getElementById('markdownContent').innerHTML = 
            '<div class="loading">æ²¡æœ‰æ‰¾åˆ° Markdown æ–‡ä»¶</div>';
          return;
        }
        
        // æŒ‰æ—¥æœŸæ’åºï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰
        this.articles.sort((a, b) => {
          const dateA = new Date(a.date);
          const dateB = new Date(b.date);
          return dateB - dateA;
        });
        
        // æ˜¾ç¤ºæ–‡ç« åˆ—è¡¨
        this.displayArticleList();
        
      } catch (error) {
        console.error('åŠ è½½æ–‡ç« åˆ—è¡¨å¤±è´¥:', error);
        document.getElementById('markdownContent').innerHTML = 
          '<div class="loading">åŠ è½½æ–‡ç« åˆ—è¡¨å¤±è´¥: ' + error.message + '</div>';
      }
    },
    
    displayArticleList() {
      const html = `
        <div class="article-list">
          ${this.articles.map(article => `
            <div class="article-card" onclick="app.loadArticle('${article.url}')">
              <div class="article-title">${article.title}</div>
              <div class="article-meta">
                <span>ğŸ“… ${article.date}</span>
                <span>ğŸ·ï¸ ${article.tags.join(', ')}</span>
              </div>
              <div class="article-excerpt">${article.excerpt || 'ç‚¹å‡»æŸ¥çœ‹æ–‡ç« å†…å®¹'}</div>
            </div>
          `).join('')}
        </div>
      `;
      document.getElementById('markdownContent').innerHTML = html;
    },
    
    async loadArticle(url) {
      try {
        document.getElementById('markdownContent').innerHTML = 
          '<div class="loading">æ­£åœ¨åŠ è½½æ–‡ç« ...</div>';
        
        const response = await fetch(url);
        if (!response.ok) {
          throw new Error('æ— æ³•åŠ è½½æ–‡ç« ');
        }
        
        const markdown = await response.text();
        
        // è§£æ front matter
        const frontMatter = this.parseFrontMatter(markdown);
        const content = markdown.split('---').slice(2).join('---').trim();
        
        // æ¸²æŸ“ Markdown
        const htmlContent = marked.parse(content);
        
        // æ˜¾ç¤ºæ–‡ç« 
        const articleHtml = `
          <a href="javascript:void(0)" onclick="app.loadArticles()" class="back-btn">â† è¿”å›åˆ—è¡¨</a>
          <div class="article-content">
            ${frontMatter.title ? `<h1>${frontMatter.title}</h1>` : ''}
            ${frontMatter.date ? `<div class="article-meta">ğŸ“… ${frontMatter.date}</div>` : ''}
            ${frontMatter.tags ? `
              <div class="article-tags">
                ${frontMatter.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
              </div>
            ` : ''}
            ${htmlContent}
          </div>
        `;
        
        document.getElementById('markdownContent').innerHTML = articleHtml;
        
        // æ·»åŠ ä»£ç å—å¤åˆ¶æŒ‰é’®
        this.addCopyButtons();
        
      } catch (error) {
        console.error('åŠ è½½æ–‡ç« å¤±è´¥:', error);
        document.getElementById('markdownContent').innerHTML = 
          '<div class="loading">åŠ è½½æ–‡ç« å¤±è´¥: ' + error.message + '</div>';
      }
    },
    
    parseFrontMatter(content) {
      if (!content.startsWith('---')) {
        return {};
      }
      
      const endMarker = content.indexOf('---', 3);
      if (endMarker === -1) {
        return {};
      }
      
      const frontMatterText = content.substring(3, endMarker).trim();
      const frontMatter = {};
      
      frontMatterText.split('\n').forEach(line => {
        const colonIndex = line.indexOf(':');
        if (colonIndex > 0) {
          const key = line.substring(0, colonIndex).trim();
          let value = line.substring(colonIndex + 1).trim();
          
          // å¤„ç†æ•°ç»„æ ¼å¼
          if (value.startsWith('[') && value.endsWith(']')) {
            const arrayContent = value.slice(1, -1);
            if (arrayContent.trim()) {
              frontMatter[key] = arrayContent.split(',').map(item => item.trim());
            } else {
              frontMatter[key] = [];
            }
          } else {
            // ç§»é™¤å¼•å·
            if ((value.startsWith('"') && value.endsWith('"')) || 
                (value.startsWith("'") && value.endsWith("'"))) {
              value = value.slice(1, -1);
            }
            frontMatter[key] = value;
          }
        }
      });
      
      return frontMatter;
    },
    
    addCopyButtons() {
      const codeBlocks = document.querySelectorAll('.article-content pre');
      codeBlocks.forEach(block => {
        if (block.querySelector('.code-copy-btn')) return;
        
        const button = document.createElement('button');
        button.className = 'code-copy-btn';
        button.textContent = 'å¤åˆ¶';
        button.onclick = () => this.copyCode(block, button);
        
        block.appendChild(button);
      });
    },
    
    copyCode(block, button) {
      const code = block.querySelector('code');
      const text = code ? code.textContent : block.textContent;
      
      navigator.clipboard.writeText(text).then(() => {
        button.textContent = 'å·²å¤åˆ¶';
        button.classList.add('copied');
        
        setTimeout(() => {
          button.textContent = 'å¤åˆ¶';
          button.classList.remove('copied');
        }, 2000);
      }).catch(err => {
        console.error('å¤åˆ¶å¤±è´¥:', err);
        button.textContent = 'å¤åˆ¶å¤±è´¥';
        setTimeout(() => {
          button.textContent = 'å¤åˆ¶';
        }, 2000);
      });
    }
  }
})

</script>






  </body>
</html>
